<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="To: Apple">
    <meta property="og:description" content="It's not a virus.">
    <meta name="theme-color" content="#070a0f">
    <title>Attention!</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Playfair+Display:ital,wght@0,600;1,600&family=Quicksand:wght@500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --paper: #fffef0;
            --ink: #1a2a44;
            --spine: #2c1e1e;
            --accent: #d4a373;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #050505; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; perspective: 3000px; }
        
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; filter: blur(5px); }
        
        /* SCALED UP CONTAINER */
        .scene { 
            width: 550px; /* Increased from 380px */
            height: 700px; /* Increased from 520px */
            position: relative; 
            transform-style: preserve-3d; 
            transition: transform 0.1s ease-out; 
            z-index: 10; 
        }
        
        .book { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; }

        .page {
            position: absolute; width: 100%; height: 100%; background: var(--paper);
            /* Adjusted lines for larger text */
            background-image: linear-gradient(#e0e9f5 1px, transparent 1px), linear-gradient(90deg, #ffadad 2px, transparent 2px);
            background-size: 100% 45px, 100% 100%; 
            background-position: 0 60px, 80px 0;
            padding: 80px 50px 50px 100px; /* More padding for a cleaner look */
            border-radius: 0 20px 20px 0;
            box-shadow: inset 5px 0 15px rgba(0,0,0,0.1), 15px 15px 50px rgba(0,0,0,0.7);
            transform-origin: left center; transition: transform 1.6s cubic-bezier(0.4, 0, 0.2, 1);
            backface-visibility: hidden; z-index: var(--z); cursor: pointer;
        }

        .page.flipped { transform: rotateY(-165deg) translateZ(1px); }

        /* SCALED UP TYPOGRAPHY */
        h1 { 
            font-family: 'Playfair Display', serif; 
            font-size: 2.2rem; /* Much larger header */
            color: #000; 
            margin-bottom: 40px; 
            font-style: italic;
        }
        p { 
            font-family: 'Dancing Script', cursive; 
            font-size: 1.8rem; /* Large, readable cursive */
            line-height: 45px; /* Matches background-size for perfect alignment */
            color: var(--ink); 
            margin-bottom: 45px; 
        }

        /* REPLY FORM */
        .reply-box { margin-top: 20px; pointer-events: auto; }
        textarea {
            width: 100%; height: 150px; background: transparent; border: none;
            font-family: 'Dancing Script', cursive; font-size: 1.6rem; color: var(--ink);
            resize: none; outline: none; border-bottom: 2px solid rgba(0,0,0,0.1);
            line-height: 45px;
        }
        .send-btn {
            margin-top: 20px; background: var(--ink); border: none;
            color: white; font-family: 'Quicksand'; font-size: 1rem;
            padding: 12px 30px; cursor: pointer; border-radius: 30px; transition: 0.3s;
        }
        .send-btn:hover { background: #000; transform: translateY(-2px); }
        
        .seal {
            position: absolute; bottom: 50px; right: 50px; width: 60px; height: 60px;
            background: #7a1111; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            color: rgba(255,255,255,0.4); font-family: 'Playfair Display'; font-size: 28px;
            cursor: pointer; box-shadow: 0 6px 15px rgba(0,0,0,0.5); z-index: 100;
        }

        .cover { background: var(--spine) url('https://www.transparenttextures.com/patterns/leather.png') !important; padding: 0 !important; }
        .cover-design { border: 4px double var(--accent); width: 85%; height: 90%; margin: auto; display: flex; flex-direction: column; justify-content: center; align-items: center; color: var(--accent); }
        .cover-title { font-family: 'Playfair Display'; font-size: 3.5rem; font-style: italic; }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="scene" id="scene">
        <div class="book">
            <div class="page" style="--z: 1; cursor: default;">
                <h1>Always,</h1>
                <p>If you'd like to say anything back, you can leave a note here for me and include there if you know who I am now.</p>
                
                <div class="reply-box">
                    <form id="replyForm">
                        <textarea name="message" id="message" placeholder="Write your response..."></textarea>
                        <button type="submit" class="send-btn" id="submitBtn">Send to the admirer.</button>
                    </form>
                    <div id="status-msg" style="font-family: 'Quicksand'; margin-top: 15px; font-weight: 600;"></div>
                </div>

                <div class="seal" onclick="alert('p.s. This is a major hint, you just accepted me lately on that one platform. :p')">A</div>
            </div>

                <div class="page" style="--z: 2;" onclick="this.classList.add('flipped')">
    <h1>Dear Apple,</h1>
    <p>You know what, I am not expecting anything in return (but I'm hoping), I just wanted to tell you all of this because I don't want this feelings to be kept for more. So with this simple effort, I hope you will appreciate and like it. </p>
            </div>

            <div class="page" style="--z: 3;" onclick="this.classList.add('flipped')">
    <h1>Dear Apple,</h1>
    <p>I’ve reached a point where I’d rather be vulnerable and tell you exactly how much you mean to me than look back and wonder what might have happened if I had just stayed quiet. I've been leaving so much hint about "me" lately but I don't know if you've noticed them. I know that with this, you'll guess who am I. </p>
            </div>

            <div class="page" style="--z: 4;" onclick="this.classList.add('flipped')">
    <h1>Dear Apple,</h1>
    <p>I didn't want the fear of a little awkwardness to keep me from being honest with you. I’m telling you this not to put pressure on you, but because you deserve to know that you are someone I truly value and think about in a different light. I've been admiring you since then but I can't put it in words yet because you might still have a someone. </p>
            </div>

            <div class="page" style="--z: 5;" onclick="this.classList.add('flipped')">
                <h1>Dear Apple,</h1>
                <p>Hey! It's me again:p. I realized lately that I’ve let too many things go unsaid. The truth is, I’ve had a crush on you since then that go beyond just being mutuals. It might be a bit awkward but you can't fool your feelings, right?</p>
                <p>I admire your energy and the sincerity you carry. You really matter to me.</p>
            </div>

           <div class="page cover" style="--z: 6;" onclick="this.classList.add('flipped'); playMusic();">
                <div class="cover-design">
                    <div class="cover-title">Thoughts</div>
                    <div style="margin-top: 40px; font-size: 2.5rem;">❃</div>
                    <p style="color: var(--accent); font-family: 'Quicksand'; font-size: 0.9rem; letter-spacing: 8px; margin-top: 80px;">FOR APPLE</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const form = document.getElementById('replyForm');
        const status = document.getElementById('status-msg');

        form.onsubmit = async (e) => {
            e.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerText = "Sending...";
            
            const data = new FormData(form);
            const response = await fetch("https://formspree.io/f/mvzbrkyr", {
                method: 'POST',
                body: data,
                headers: { 'Accept': 'application/json' }
            });

            if (response.ok) {
                status.innerHTML = "Sent. Thank you, Apple.";
                form.style.display = "none";
            } else {
                status.innerHTML = "Oops! Try again.";
                submitBtn.innerText = "Send to the Archive";
            }
        };

        const scene = document.getElementById('scene');
        document.addEventListener('mousemove', (e) => {
            const x = (window.innerWidth / 2 - e.pageX) / 50;
            const y = (window.innerHeight / 2 - e.pageY) / 50;
            scene.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
        });

        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [];
        for (let i = 0; i < 15; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                s: Math.random() * 80 + 30,
                op: Math.random() * 0.15
            });
        }
        function draw() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => {
                ctx.beginPath(); ctx.arc(p.x, p.y, p.s, 0, Math.PI*2);
                ctx.fillStyle = `rgba(212, 163, 115, ${p.op})`; ctx.fill();
                p.y -= 0.15; if(p.y < -100) p.y = canvas.height + 100;
            });
            requestAnimationFrame(draw);
        }
        draw();
    </script>

       <audio id="bgMusic" loop>
  <source src="my-music.mp3" type="audio/mpeg">
</audio>

<button id="musicBtn" onclick="toggleMusic()" style="display:none;"></button>

<script>
  var song = document.getElementById("bgMusic");
  song.volume = 0.2; // Keep it at 20% for that "just right" volume

  function playMusic() {
    // This function runs when the cover is clicked
    song.play().catch(function(error) {
      console.log("Browser blocked autoplay until further interaction.");
    });
  }

  // Optional: Keeping your toggle function in case you add a mute button later
  function toggleMusic() {
    if (song.paused) {
      song.play();
    } else {
      song.pause();
    }
  }
</script>

</body>
</html>